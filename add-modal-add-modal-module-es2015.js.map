{"version":3,"sources":["./src/app/Services/day.service.ts"],"names":[],"mappings":"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","file":"add-modal-add-modal-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { DayItem, Action } from '../Pages/to-do/item.model';\nimport { AlertController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DayService {\n\n  constructor(private alertController: AlertController) { }\n\n  dayList: DayItem[] = [\n    new DayItem('first test', '12:00', '13:00'),\n    new DayItem('trollolololoolololo', '13:23', '13:26'),\n    new DayItem('testing212', '15:00', '16:00')\n  ];\n\n\n  getDay() {// WORKS\n    return [...this.dayList];\n  }\n\n  // this converts the way ionic stores time(2020-06-02T16:00:47.314+01:00) to regular format used in findPos function\n  ionTimeConvert(time: string) {// WORKS\n    time = time.slice(time.search('T') + 1, time.indexOf(':', time.indexOf(':') + 1));\n    return time;\n  }\n\n  // function used to find the positon a new activity should go in based on its date, returns the position;\n  findPos(startTime: any, endTime: any) {// WORKS!!\n\n    // to check if the day is emty and if it is return 0 as positon\n    if (this.dayList.length === 0) {\n      return 0;\n    }\n\n    startTime = startTime.split(':'); // turns ionic time into array [HH,MM]\n    endTime = endTime.split(':'); // turns ionic time into array [HH,MM]\n\n    let x: number;\n    for (x = 0; x < this.dayList.length; x++) { // loops through the items currently in daylist array\n\n      const compStartTime = this.dayList[x].startTime.split(':');\n\n      if (compStartTime[0] === startTime[0]) {\n        if (compStartTime[1] === startTime[1]) {\n          // runs of the start time is the same as a activity that already exists\n          return 'error';\n        } else if (startTime[1] < compStartTime[1] ) {// elif to check if the activity can fit in the day\n          // runs when a slot is found\n\n          // sets varibale for the start time of the event you want to add eady for comparison\n          const startAdd = startTime[0] + startTime[1];\n          // sets varibale for the end time of the event you want to add eady for comparison\n          const endAdd = endTime[0] + endTime[1];\n          // sets varibale for the start time of the event in front of where you want to insert the new event\n          const compStartAdd = (this.dayList[x].startTime).replace(':', '');\n\n          // this if statment checks if times overlap for activities going into slot 0\n          if (x === 0) {\n            if (endAdd <= compStartAdd ) {\n              return x;\n            } else {\n              return 'error';\n            }\n          }\n\n          // sets varibale for the end time of the event in front of where you want to insert the new event\n          const compEndAdd = (this.dayList[x - 1].endTime).replace(':', '');\n\n          // this checks if the actiity you want to add overlaps with current activities for other slots\n          if (startAdd >= compEndAdd && endAdd <= compStartAdd) {\n            return x;\n          }\n          return 'error';\n          }\n      } else if (startTime[0] < compStartTime[0]) {\n        // runs when a slot has been found\n\n        // this section is the exact same as the previous both of them check if the new item's times-\n        // overlap with the already established activites in the list\n\n        // sets varibale for the start time of the event you want to add eady for comparison\n        const startAdd = startTime[0] + startTime[1];\n        // sets varibale for the end time of the event you want to add eady for comparison\n        const endAdd = endTime[0] + endTime[1];\n        // sets varibale for the start time of the event in front of where you want to insert the new event\n        const compStartAdd = (this.dayList[x].startTime).replace(':', '');\n\n        // this if statment checks if times overlap for activities going into slot 0\n        if (x === 0) {\n          if (endAdd <= compStartAdd ) {\n            return x;\n          } else {\n            return 'error';\n          }\n        }\n\n        // sets varibale for the end time of the event in front of where you want to insert the new event\n        const compEndAdd = (this.dayList[x - 1].endTime).replace(':', '');\n\n        // this checks if the actiity you want to add overlaps with current activities for other slots\n        if (startAdd >= compEndAdd && endAdd <= compStartAdd) {\n          return x;\n        }\n        return 'error';\n      }\n    }\n    // runs if item needs to be inserted at the end of the day\n\n    // sets varibale for the start time of the event you want to add ready for comparison\n    const startAdd2 = startTime[0] + startTime[1];\n\n    // sets variable for the end time of the last item in the day\n    const endAddExisting = this.dayList[this.dayList.length - 1].endTime.replace(':', '');\n\n    // checks if new activ starts after the old one finishes\n    if (startAdd2 >= endAddExisting) {\n      return this.dayList.length;\n    } else {\n      return 'error';\n    }\n\n  }\n\n  // adds to todo list if possible takes in times in ionic format\n  addToDo(activName: string,  StartTime: string, EndTime: string) {\n    // declarations\n    const adding = new DayItem(activName, StartTime, EndTime);\n    const pos = this.findPos(StartTime, EndTime);\n\n    // checks if there was an error in finding a slot for the new activity\n    if (pos === 'error') {\n      return 'error';\n    }\n\n    this.dayList.splice(pos, 0, adding);\n  }\n\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      header: 'Oops',\n      message: 'That is not a valid activity',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  removeItem(item: DayItem) {\n    const index = this.dayList.findIndex(x => x === item);\n    console.log(index);\n    this.dayList.splice(index, 1);\n    console.log('ran');\n  }\n\n\n\n}\n\n\n"],"sourceRoot":"webpack:///"}